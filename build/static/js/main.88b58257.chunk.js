(this["webpackJsonplearn-qna"]=this["webpackJsonplearn-qna"]||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t),a.d(t,"READ_USER",(function(){return n})),a.d(t,"STORE_USER",(function(){return c})),a.d(t,"DELETE_USER",(function(){return l}));var n="READ_USER",c="STORE_USER",l="DELETE_USER"},19:function(e,t,a){"use strict";a.r(t),a.d(t,"SET_QUESTIONS",(function(){return n})),a.d(t,"REMOVE_QUESTIONS",(function(){return c})),a.d(t,"UPDATE_ATTEMP_ANSWER",(function(){return l}));var n="SET_QUESTIONS",c="REMOVE_QUESTIONS",l="UPDATE_ATTEMP_ANSWER"},35:function(e,t,a){e.exports=a(58)},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),r=a.n(l),o=(a(40),a(4)),i=a(9),u=a(3),s=(a(45),a(46),a(11)),m=a(12),E=function(e){var t,a=e.logoRef,n=Object(o.c)((function(e){return e.login})),l=n.isAuthenticated?"":"disabled",r={borderBottom:"3px solid #46D7FE"};return c.a.createElement("div",{id:"header"},c.a.createElement("div",{className:"header-item logo-container"},c.a.createElement(i.b,{to:"/",className:"logo-text",ref:a},c.a.createElement(s.a,{icon:m.c})," LearnQnA")),c.a.createElement("div",{className:"header-item nav-container"},c.a.createElement(i.c,{to:"/",exact:!0,className:"nav-link",activeStyle:r},c.a.createElement(s.a,{icon:m.d})," Home"),c.a.createElement(i.c,{to:"/previousSubmission",exact:!0,className:"nav-link ".concat(l),activeStyle:r},c.a.createElement(s.a,{icon:m.h}),"  Last Submission"),n.isAuthenticated?c.a.createElement("div",{className:"user-profile-container"},c.a.createElement(i.b,{to:"/login/noauth",className:"nav-link"},c.a.createElement("span",{className:"sign-auth-text"},"Sign Out"),c.a.createElement(s.a,{icon:m.f})),c.a.createElement("span",{className:"user-profile"},null===(t=n.user)||void 0===t?void 0:t.username.charAt(0).toUpperCase())):c.a.createElement(i.c,{to:"/login",className:"nav-link",activeStyle:r},c.a.createElement("span",{className:"sign-auth-text"},"Login"),c.a.createElement(s.a,{icon:m.e}))))},d=(a(51),a(13)),v=function(e,t){return localStorage.setItem(e,t)},p=function(e){return localStorage.getItem(e)},f=function(e,t){var a={email:e,username:t};return v(d.STORE_USER,JSON.stringify(a)),{type:d.STORE_USER,payload:a}},y=function(){var e;return e=d.STORE_USER,localStorage.removeItem(e),{type:d.DELETE_USER}},b=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},O=function(e){var t=e.goToRoot,a=Object(o.b)(),l=Object(u.g)(),r=Object(n.useCallback)((function(e){e.preventDefault();var n=e.target.email.value,c=e.target.username.value;/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+.([A-Za-z]{2,4})$/.test(n)&&c?(a(f(n,c)),t()):setTimeout((function(){return alert("Please provide the details correctly!")}),0)}),[a,t]);return Object(n.useEffect)((function(){"noauth"===(null===l||void 0===l?void 0:l.auth)&&(console.log("signout"),a(y()))}),[a,l]),c.a.createElement("div",{id:"login-container"},c.a.createElement("form",{id:"login-form",onSubmit:function(e){return r(e)}},c.a.createElement("div",null,c.a.createElement("h3",{className:"title"},"LearnQnA - Login"),c.a.createElement("input",{name:"email",type:"text",placeholder:"Email"}),c.a.createElement("input",{name:"username",type:"text",placeholder:"Name"}),c.a.createElement("input",{type:"submit",value:"Login"}))))},g=a(59),S=(a(52),a(15)),h=a(28),T=a.n(h),x=a(31),_=a(19),A=function(e){return c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:e.name,onChange:e.onChange,checked:e.checked}),c.a.createElement("span",null,e.label))};function N(e){var t;(null===e||void 0===e?void 0:e.incorrect)&&"string"===typeof(null===e||void 0===e?void 0:e.correct)?t=[].concat(Object(S.a)(e.incorrect),[e.correct]):(null===e||void 0===e?void 0:e.incorrect)&&(t=[].concat(Object(S.a)(e.incorrect),Object(S.a)(e.correct)));var a=Object(o.b)(),n=function(t){var n,c;a((n=t,c=e.currectQuestion,{type:_.UPDATE_ATTEMP_ANSWER,payload:{answer:n,questionIndex:c}}))};return t?t.map((function(t){return c.a.createElement("p",{className:"answer-options",key:Object(g.a)()},c.a.createElement(A,{name:"quiz-option-radio-".concat(e.currectQuestion),onChange:function(){return e.stopChange||n(t)},checked:e.attempedOption===t,label:b(t)}))})):null}var j=function(e){var t=e.questions,a=e.currectQuestion,n=e.stopChange,l=t[a];return c.a.createElement("div",{id:"quiz-question-form"},c.a.createElement("p",{className:"quiz-item"},c.a.createElement("b",null,"Category:")," ",null===l||void 0===l?void 0:l.category),c.a.createElement("p",{className:"quiz-item progress"},c.a.createElement("span",null,c.a.createElement("b",null,"Level:")," ",null===l||void 0===l?void 0:l.difficulty),c.a.createElement("span",null,c.a.createElement("b",null,"Question:")," ","".concat(a+1,"/").concat(null===t||void 0===t?void 0:t.length))),c.a.createElement("div",{className:"question-form-group"},c.a.createElement("p",{className:"question-text"},b((null===l||void 0===l?void 0:l.question)||"Loading...")),c.a.createElement(N,{type:null===l||void 0===l?void 0:l.type,correct:null===l||void 0===l?void 0:l.correct_answer,incorrect:null===l||void 0===l?void 0:l.incorrect_answers,currectQuestion:a,attempedOption:null===l||void 0===l?void 0:l.attempedOption,stopChange:n})))},R=(a(54),function(){var e,t,a=p("prev-submission"),n=Object(o.c)((function(e){return e.login})),l=0;return a&&(a=JSON.parse(a),console.log(a),l=a.reduce((function(e,t){return t.correct_answer===t.attempedOption?e+1:e}),0)),c.a.createElement("div",{id:"prev-submission-container"},c.a.createElement("div",{id:"show-result"},c.a.createElement("p",null,"Hello, ",null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.username),c.a.createElement("p",null,"Your Score: ","".concat(l,"/").concat((null===(t=a)||void 0===t?void 0:t.length)||0))),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"S.No"),c.a.createElement("th",null,"Questions"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null,"Correct Answer"))),c.a.createElement("tbody",null,a&&a.map((function(e,t){return c.a.createElement("tr",{key:Object(g.a)()},c.a.createElement("td",null,t+1),c.a.createElement("td",null,c.a.createElement(j,{questions:a,currectQuestion:t,stopChange:!0})),c.a.createElement("td",null,e.correct_answer===e.attempedOption?"Correct":"Incorrect"),c.a.createElement("td",null,b(e.correct_answer)))})))))}),q=(a(55),function(e){return c.a.createElement("label",null,c.a.createElement("p",null,e.label),c.a.createElement("input",{value:e.value,onChange:e.setValue,type:e.type}))}),C=function(e){return c.a.createElement("label",null,c.a.createElement("p",null,e.label),c.a.createElement("select",{value:e.selectedValue,onChange:e.setOption},e.allOptions.map((function(e){return c.a.createElement("option",{value:e.value,key:e.value},e.text)}))))},L=function(e){return c.a.createElement("form",{id:e.id,onSubmit:e.onSubmit},c.a.createElement("p",{className:"formLabel"},e.label),e.children,c.a.createElement("input",{type:"submit",value:e.submitValue}))},w=function(){var e=Object(o.c)((function(e){return e.quizForm})),t=Object(o.b)(),a=Object(u.f)();return c.a.createElement(L,{onSubmit:function(e){e.preventDefault(),a.push("/startTest")},label:"Learn QnA Form",id:"quiz-form",submitValue:"Start Quiz"},c.a.createElement(q,{label:"Number of Questions:",value:e.numberOfQuestions,setValue:function(e){var a=e.target.value;t({type:"SET_QUESTION_COUNT",payload:a})},type:"number"}),c.a.createElement(C,{label:"Select Category:",selectedValue:e.categories.selected.value,setOption:function(e){var a=e.target.value;t({type:"SET_SELECTED_CATEGORY",payload:a})},allOptions:e.categories.categoryOptions}),c.a.createElement(C,{label:"Select Difficulty:",selectedValue:e.difficultyLevels.selected.value,setOption:function(e){var a=e.target.value;t({type:"SET_SELECTED_LEVEL",payload:a})},allOptions:e.difficultyLevels.difficultyLevelOptions}),c.a.createElement(C,{label:"Select Type:",selectedValue:e.types.selected.value,setOption:function(e){var a=e.target.value;t({type:"SET_SELECTED_TYPE",payload:a})},allOptions:e.types.typeOptions}))},k=(a(56),function(){return c.a.createElement("div",{id:"welcome-container"},c.a.createElement("h4",{className:"welcome-text"},"Welcome, Guest"),c.a.createElement("h5",{className:"login-text"},"Please login to continue"))}),U=function(){var e=Object(o.c)((function(e){return e.login}));return c.a.createElement("div",{id:"main-quiz-container"},e.isAuthenticated&&c.a.createElement(w,null),!e.isAuthenticated&&c.a.createElement(k,null))},Q=a(33);a(57);function D(){var e,t=Object(o.c)((function(e){return{quizForm:e.quizForm,questionAnswers:e.questionAnswers,isAuthenticated:e.login.isAuthenticated}})),a=Object(o.b)(),l=t.quizForm.numberOfQuestions,r=t.quizForm.categories.selected.value,i=t.quizForm.difficultyLevels.selected.value,E=t.quizForm.types.selected.value,d=Object(n.useState)(0),p=Object(Q.a)(d,2),f=p[0],y=p[1],b=Object(u.f)(),O=Object(n.useRef)(!0),g=Object(n.useCallback)((function(){var e=function(e){var t="".concat("https://opentdb.com/api.php","?"),a="amount=".concat(e.numOfQuestions),n="&category=".concat(e.selectedCategory),c="&difficulty=".concat(e.selectedDifficultyLevel),l="&type=".concat(e.selectedType);return 0!==e.numOfQuestions&&(t+=a),"any"!==e.selectedCategory&&(t+=n),"any"!==e.selectedDifficultyLevel&&(t+=c),"any"!==e.selectedType&&(t+=l),t}({numOfQuestions:l,selectedCategory:r,selectedDifficultyLevel:i,selectedType:E});O.current&&(console.log("fetching quiz"),a(function(e){return function(){var t=Object(x.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return t.next=4,t.sent.json();case 4:n=t.sent,a((c=n.results,{type:_.SET_QUESTIONS,payload:c}));case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)))}),[a,l,r,i,E]);Object(n.useEffect)((function(){return setTimeout((function(){g()}),500),function(){O.current=!1,a({type:_.REMOVE_QUESTIONS})}}),[a,g]);return c.a.createElement(c.a.Fragment,null,t.isAuthenticated?c.a.createElement("div",{id:"quiz-container"},c.a.createElement("div",{id:"quiz-questions-container"},c.a.createElement("div",{id:"quiz-questions-form"},c.a.createElement(j,{questions:t.questionAnswers,currectQuestion:f})),c.a.createElement("div",{id:"quiz-container-footer"},c.a.createElement("button",{onClick:function(){return y(f-1)},className:"footer-item ".concat(f<=0&&"disabled")},c.a.createElement(s.a,{icon:m.a,className:"icon"})," Previous"),c.a.createElement("button",{onClick:function(){return y(f+1)},className:"footer-item ".concat(f+1>=(null===(e=t.questionAnswers)||void 0===e?void 0:e.length)&&"disabled")},"Next ",c.a.createElement(s.a,{icon:m.b,className:"icon"})),c.a.createElement("button",{to:"/result",className:"footer-item",onClick:function(){window.confirm("Are you sure, you want to end the test")&&(b.push("/previousSubmission"),v("prev-submission",JSON.stringify(t.questionAnswers)))}},c.a.createElement(s.a,{icon:m.g,className:"icon"})," End Test")))):c.a.createElement(k,null))}var z=function(){var e=Object(o.b)(),t=Object(n.useRef)();Object(n.useEffect)((function(){var t=p(d.STORE_USER);t&&(t=JSON.parse(t),e(f(t.email,t.username)),a())}),[e]);var a=function(){t.current.click()};return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,null,c.a.createElement(E,{logoRef:t}),c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/login",exact:!0,strict:!0,component:function(){return c.a.createElement(O,{goToRoot:a})}}),c.a.createElement(u.a,{path:"/login/:auth",exact:!0,strict:!0,component:function(){return c.a.createElement(O,{goToRoot:a})}}),c.a.createElement(u.a,{path:"/previousSubmission",exact:!0,strict:!0,component:R}),c.a.createElement(u.a,{path:"/startTest",exact:!0,strict:!0,component:D}),c.a.createElement(u.a,{path:"/",exact:!0,strict:!0,component:U}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(14),M=a(10),V=a(13),P=V.READ_USER,F=V.STORE_USER,G=V.DELETE_USER,J={user:{email:"",username:""},isAuthenticated:!1},W={numberOfQuestions:5,categories:{selected:{value:"any"},categoryOptions:[{text:"Any Category",value:"any"},{text:"General Knowledge",value:"9"},{text:"Entertainment: Books",value:"10"},{text:"Entertainment: Film",value:"11"},{text:"Entertainment: Music",value:"12"},{text:"Entertainment: Musicals & Theatres",value:"13"},{text:"Entertainment: Television",value:"14"},{text:"Entertainment: Video Games",value:"15"},{text:"Entertainment: Board Games",value:"16"},{text:"Science & Nature",value:"17"},{text:"Science: Computers",value:"18"},{text:"Science: Mathematics",value:"19"},{text:"Mythology",value:"20"},{text:"Sports",value:"21"},{text:"Geography",value:"22"},{text:"History",value:"23"},{text:"Politics",value:"24"},{text:"Art",value:"25"},{text:"Celebrities",value:"26"},{text:"Animals",value:"27"},{text:"Vehicles",value:"28"},{text:"Entertainment: Comics",value:"29"},{text:"Science: Gadgets",value:"30"},{text:"Entertainment: Japanese Anime & Manga",value:"31"},{text:"Entertainment: Cartoon & Animations",value:"32"}]},difficultyLevels:{selected:{value:"any"},difficultyLevelOptions:[{text:"Any Difficulty",value:"any"},{text:"Easy",value:"easy"},{text:"Medium",value:"medium"},{text:"Hard",value:"hard"}]},types:{selected:{value:"any"},typeOptions:[{text:"Any Type",value:"any"},{text:"Multiple Choice",value:"multiple"},{text:"True/False",value:"boolean"}]}},B=a(32),H=a(19),Y=H.SET_QUESTIONS,Z=H.UPDATE_ATTEMP_ANSWER,$=H.REMOVE_QUESTIONS,K=[],X=Object(I.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,a=Object(M.a)({},e);switch(t.type){case F:a.user={email:t.payload.email,username:t.payload.username},a.isAuthenticated=!0;break;case P:a.user={email:t.payload.email,username:t.payload.username},a.isAuthenticated=t.payload.isAuthenticated;break;case G:a.isAuthenticated=!1,a.user={};break;default:return e}return a},quizForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=Object(M.a)({},e);switch(t.type){case"SET_QUESTION_COUNT":a.numberOfQuestions=t.payload;break;case"SET_SELECTED_CATEGORY":a.categories=Object(M.a)({},a.categories),a.categories.selected={value:t.payload};break;case"SET_SELECTED_LEVEL":a.difficultyLevels=Object(M.a)({},a.difficultyLevels),a.difficultyLevels.selected={value:t.payload};break;case"SET_SELECTED_TYPE":a.types=Object(M.a)({},a.types),a.types.selected={value:t.payload};break;default:return e}return a},questionAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=Object(S.a)(e);switch(t.type){case Y:var n=t.payload.map((function(e){return Object(M.a)(Object(M.a)({},e),{},{attempedOption:""})}));a=n,console.log(a);break;case $:a=[];break;case Z:var c=Object(M.a)({},a[t.payload.questionIndex]);c.attempedOption=t.payload.answer,a[t.payload.questionIndex]=c;break;default:return e}return a}}),ee=Object(I.d)(X,Object(I.a)(B.a));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:ee},c.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.88b58257.chunk.js.map