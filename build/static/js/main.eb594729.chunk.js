(this["webpackJsonplearn-qna"]=this["webpackJsonplearn-qna"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t),n.d(t,"READ_USER",(function(){return a})),n.d(t,"STORE_USER",(function(){return l})),n.d(t,"DELETE_USER",(function(){return r}));var a="READ_USER",l="STORE_USER",r="DELETE_USER"},17:function(e,t,n){"use strict";n.r(t),n.d(t,"SET_QUESTIONS",(function(){return a})),n.d(t,"REMOVE_QUESTIONS",(function(){return l})),n.d(t,"UPDATE_ATTEMP_ANSWER",(function(){return r}));var a="SET_QUESTIONS",l="REMOVE_QUESTIONS",r="UPDATE_ATTEMP_ANSWER"},35:function(e,t,n){e.exports=n(58)},40:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(18),c=n.n(r),o=(n(40),n(4)),i=n(9),u=n(3),s=(n(45),n(46),n(23)),m=n(27),E=function(e){var t,n=e.logoRef,a=Object(o.c)((function(e){return e.login})),r=a.isAuthenticated?"":"disabled",c={borderBottom:"3px solid #46D7FE"};return l.a.createElement("div",{id:"header"},l.a.createElement("div",{className:"header-item logo-container"},l.a.createElement(i.b,{to:"/",className:"logo-text",ref:n},"LearnQnA")),l.a.createElement("div",{className:"header-item nav-container"},l.a.createElement(i.c,{to:"/",exact:!0,className:"nav-link",activeStyle:c},"Home"),l.a.createElement(i.c,{to:"/previousSubmission",exact:!0,className:"nav-link ".concat(r),activeStyle:c},"Last Submission"),a.isAuthenticated?l.a.createElement("div",{className:"user-profile-container"},l.a.createElement(i.b,{to:"/login/noauth",className:"nav-link"},l.a.createElement("span",{className:"sign-auth-text"},"Sign Out"),l.a.createElement(s.a,{icon:m.b})),l.a.createElement("span",{className:"user-profile"},null===(t=a.user)||void 0===t?void 0:t.username.charAt(0).toUpperCase())):l.a.createElement(i.c,{to:"/login",className:"nav-link",activeStyle:c},l.a.createElement("span",{className:"sign-auth-text"},"Login"),l.a.createElement(s.a,{icon:m.a}))))},d=(n(51),n(11)),v=function(e,t){return localStorage.setItem(e,t)},p=function(e){return localStorage.getItem(e)},f=function(e,t){var n={email:e,username:t};return v(d.STORE_USER,JSON.stringify(n)),{type:d.STORE_USER,payload:n}},y=function(){var e;return e=d.STORE_USER,localStorage.removeItem(e),{type:d.DELETE_USER}},b=function(e){var t=e.goToRoot,n=Object(o.b)(),r=Object(u.g)(),c=Object(a.useCallback)((function(e){e.preventDefault();var a=e.target.email.value,l=e.target.username.value;n(f(a,l)),t()}),[n,t]);return Object(a.useEffect)((function(){"noauth"===(null===r||void 0===r?void 0:r.auth)&&(console.log("signout"),n(y()))}),[n,r]),l.a.createElement("div",{id:"login-container"},l.a.createElement("form",{id:"login-form",onSubmit:function(e){return c(e)}},l.a.createElement("div",null,l.a.createElement("h3",{className:"title"},"LearnQnA - Login"),l.a.createElement("input",{name:"email",type:"text",placeholder:"Email"}),l.a.createElement("input",{name:"username",type:"text",placeholder:"Name"}),l.a.createElement("input",{type:"submit",value:"Login"}))))},O=n(59),g=(n(52),n(13)),S=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},h=n(28),T=n.n(h),x=n(31),_=n(17),A=function(e){return l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:e.name,onChange:e.onChange,checked:e.checked}),l.a.createElement("span",null,e.label))};function N(e){var t;(null===e||void 0===e?void 0:e.incorrect)&&"string"===typeof(null===e||void 0===e?void 0:e.correct)?t=[].concat(Object(g.a)(e.incorrect),[e.correct]):(null===e||void 0===e?void 0:e.incorrect)&&(t=[].concat(Object(g.a)(e.incorrect),Object(g.a)(e.correct)));var n=Object(o.b)(),a=function(t){var a,l;n((a=t,l=e.currectQuestion,{type:_.UPDATE_ATTEMP_ANSWER,payload:{answer:a,questionIndex:l}}))};return t?t.map((function(t){return l.a.createElement("p",{className:"answer-options",key:Object(O.a)()},l.a.createElement(A,{name:"quiz-option-radio-".concat(e.currectQuestion),onChange:function(){return e.stopChange||a(t)},checked:e.attempedOption===t,label:S(t)}))})):null}var j=function(e){var t=e.questions,n=e.currectQuestion,a=e.stopChange,r=t[n];return l.a.createElement("div",{id:"quiz-question-form"},l.a.createElement("p",{className:"quiz-item"},l.a.createElement("b",null,"Category:")," ",null===r||void 0===r?void 0:r.category),l.a.createElement("p",{className:"quiz-item progress"},l.a.createElement("span",null,l.a.createElement("b",null,"Level:")," ",null===r||void 0===r?void 0:r.difficulty),l.a.createElement("span",null,l.a.createElement("b",null,"Question:")," ","".concat(n+1,"/").concat(null===t||void 0===t?void 0:t.length))),l.a.createElement("div",{className:"question-form-group"},l.a.createElement("p",{className:"question-text"},S((null===r||void 0===r?void 0:r.question)||"Loading...")),l.a.createElement(N,{type:null===r||void 0===r?void 0:r.type,correct:null===r||void 0===r?void 0:r.correct_answer,incorrect:null===r||void 0===r?void 0:r.incorrect_answers,currectQuestion:n,attempedOption:null===r||void 0===r?void 0:r.attempedOption,stopChange:a})))},R=(n(54),function(){var e,t,n=p("prev-submission"),a=Object(o.c)((function(e){return e.login})),r=0;return n&&(n=JSON.parse(n),console.log(n),r=n.reduce((function(e,t){return t.correct_answer===t.attempedOption?e+1:e}),0)),l.a.createElement("div",{id:"prev-submission-container"},l.a.createElement("div",{id:"show-result"},l.a.createElement("p",null,"Hello, ",null===a||void 0===a||null===(e=a.user)||void 0===e?void 0:e.username),l.a.createElement("p",null,"Your Score: ","".concat(r,"/").concat((null===(t=n)||void 0===t?void 0:t.length)||0))),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"S.No"),l.a.createElement("th",null,"Questions"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Correct Answer"))),l.a.createElement("tbody",null,n&&n.map((function(e,t){return l.a.createElement("tr",{key:Object(O.a)()},l.a.createElement("td",null,t+1),l.a.createElement("td",null,l.a.createElement(j,{questions:n,currectQuestion:t,stopChange:!0})),l.a.createElement("td",null,e.correct_answer===e.attempedOption?"Correct":"Incorrect"),l.a.createElement("td",null,S(e.correct_answer)))})))))}),q=(n(55),function(e){return l.a.createElement("label",null,l.a.createElement("p",null,e.label),l.a.createElement("input",{value:e.value,onChange:e.setValue}))}),C=function(e){return l.a.createElement("label",null,l.a.createElement("p",null,e.label),l.a.createElement("select",{value:e.selectedValue,onChange:e.setOption},e.allOptions.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.text)}))))},L=function(e){return l.a.createElement("form",{id:e.id,onSubmit:e.onSubmit},l.a.createElement("p",{className:"formLabel"},e.label),e.children,l.a.createElement("input",{type:"submit",value:e.submitValue}))},w=function(){var e=Object(o.c)((function(e){return e.quizForm})),t=Object(o.b)(),n=Object(u.f)();return l.a.createElement(L,{onSubmit:function(e){e.preventDefault(),n.push("/startTest")},label:"Learn QnA Form",id:"quiz-form",submitValue:"Start Quiz"},l.a.createElement(q,{label:"Number of Questions:",value:e.numberOfQuestions,setValue:function(e){var n=e.target.value;t({type:"SET_QUESTION_COUNT",payload:n})}}),l.a.createElement(C,{label:"Select Category:",selectedValue:e.categories.selected.value,setOption:function(e){var n=e.target.value;t({type:"SET_SELECTED_CATEGORY",payload:n})},allOptions:e.categories.categoryOptions}),l.a.createElement(C,{label:"Select Difficulty:",selectedValue:e.difficultyLevels.selected.value,setOption:function(e){var n=e.target.value;t({type:"SET_SELECTED_LEVEL",payload:n})},allOptions:e.difficultyLevels.difficultyLevelOptions}),l.a.createElement(C,{label:"Select Type:",selectedValue:e.types.selected.value,setOption:function(e){var n=e.target.value;t({type:"SET_SELECTED_TYPE",payload:n})},allOptions:e.types.typeOptions}))},k=(n(56),function(){return l.a.createElement("div",{id:"welcome-container"},l.a.createElement("h4",{className:"welcome-text"},"Welcome, Guest"),l.a.createElement("h5",{className:"login-text"},"Please login to continue"))}),U=function(){var e=Object(o.c)((function(e){return e.login}));return l.a.createElement("div",{id:"main-quiz-container"},e.isAuthenticated&&l.a.createElement(w,null),!e.isAuthenticated&&l.a.createElement(k,null))},Q=n(33);n(57);function D(){var e,t=Object(o.c)((function(e){return{quizForm:e.quizForm,questionAnswers:e.questionAnswers,isAuthenticated:e.login.isAuthenticated}})),n=Object(o.b)(),r=t.quizForm.numberOfQuestions,c=t.quizForm.categories.selected.value,i=t.quizForm.difficultyLevels.selected.value,s=t.quizForm.types.selected.value,m=Object(a.useState)(0),E=Object(Q.a)(m,2),d=E[0],p=E[1],f=Object(u.f)(),y=Object(a.useRef)(!0),b=Object(a.useCallback)((function(){var e=function(e){var t="".concat("https://opentdb.com/api.php","?"),n="amount=".concat(e.numOfQuestions),a="&category=".concat(e.selectedCategory),l="&difficulty=".concat(e.selectedDifficultyLevel),r="&type=".concat(e.selectedType);return 0!==e.numOfQuestions&&(t+=n),"any"!==e.selectedCategory&&(t+=a),"any"!==e.selectedDifficultyLevel&&(t+=l),"any"!==e.selectedType&&(t+=r),t}({numOfQuestions:r,selectedCategory:c,selectedDifficultyLevel:i,selectedType:s});y.current&&(console.log("fetching quiz"),n(function(e){return function(){var t=Object(x.a)(T.a.mark((function t(n){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return t.next=4,t.sent.json();case 4:a=t.sent,n((l=a.results,{type:_.SET_QUESTIONS,payload:l}));case 6:case"end":return t.stop()}var l}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)))}),[n,r,c,i,s]);Object(a.useEffect)((function(){return setTimeout((function(){b()}),500),function(){y.current=!1,n({type:_.REMOVE_QUESTIONS})}}),[n,b]);return l.a.createElement(l.a.Fragment,null,t.isAuthenticated?l.a.createElement("div",{id:"quiz-container"},l.a.createElement("div",{id:"quiz-questions-container"},l.a.createElement("div",{id:"quiz-questions-form"},l.a.createElement(j,{questions:t.questionAnswers,currectQuestion:d})),l.a.createElement("div",{id:"quiz-container-footer"},l.a.createElement("button",{onClick:function(){return p(d-1)},className:"footer-item ".concat(d<=0&&"disabled")},"Previous"),l.a.createElement("button",{onClick:function(){return p(d+1)},className:"footer-item ".concat(d+1>=(null===(e=t.questionAnswers)||void 0===e?void 0:e.length)&&"disabled")},"Next"),l.a.createElement("button",{to:"/result",className:"footer-item",onClick:function(){window.confirm("Are you sure, you want to end the test")&&(f.push("/previousSubmission"),v("prev-submission",JSON.stringify(t.questionAnswers)))}},"End Test")))):l.a.createElement(k,null))}var z=function(){var e=Object(o.b)(),t=Object(a.useRef)();Object(a.useEffect)((function(){var t=p(d.STORE_USER);t&&(t=JSON.parse(t),e(f(t.email,t.username)),n())}),[e]);var n=function(){t.current.click()};return l.a.createElement("div",{className:"App"},l.a.createElement(i.a,null,l.a.createElement(E,{logoRef:t}),l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/login",exact:!0,strict:!0,component:function(){return l.a.createElement(b,{goToRoot:n})}}),l.a.createElement(u.a,{path:"/login/:auth",exact:!0,strict:!0,component:function(){return l.a.createElement(b,{goToRoot:n})}}),l.a.createElement(u.a,{path:"/previousSubmission",exact:!0,strict:!0,component:R}),l.a.createElement(u.a,{path:"/startTest",exact:!0,strict:!0,component:D}),l.a.createElement(u.a,{path:"/",exact:!0,strict:!0,component:U}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(12),M=n(10),V=n(11),F=V.READ_USER,P=V.STORE_USER,G=V.DELETE_USER,J={user:{email:"",username:""},isAuthenticated:!1},W={numberOfQuestions:5,categories:{selected:{value:"any"},categoryOptions:[{text:"Any Category",value:"any"},{text:"General Knowledge",value:"9"},{text:"Entertainment: Books",value:"10"},{text:"Entertainment: Film",value:"11"},{text:"Entertainment: Music",value:"12"},{text:"Entertainment: Musicals & Theatres",value:"13"},{text:"Entertainment: Television",value:"14"},{text:"Entertainment: Video Games",value:"15"},{text:"Entertainment: Board Games",value:"16"},{text:"Science & Nature",value:"17"},{text:"Science: Computers",value:"18"},{text:"Science: Mathematics",value:"19"},{text:"Mythology",value:"20"},{text:"Sports",value:"21"},{text:"Geography",value:"22"},{text:"History",value:"23"},{text:"Politics",value:"24"},{text:"Art",value:"25"},{text:"Celebrities",value:"26"},{text:"Animals",value:"27"},{text:"Vehicles",value:"28"},{text:"Entertainment: Comics",value:"29"},{text:"Science: Gadgets",value:"30"},{text:"Entertainment: Japanese Anime & Manga",value:"31"},{text:"Entertainment: Cartoon & Animations",value:"32"}]},difficultyLevels:{selected:{value:"any"},difficultyLevelOptions:[{text:"Any Difficulty",value:"any"},{text:"Easy",value:"easy"},{text:"Medium",value:"medium"},{text:"Hard",value:"hard"}]},types:{selected:{value:"any"},typeOptions:[{text:"Any Type",value:"any"},{text:"Multiple Choice",value:"multiple"},{text:"True/False",value:"boolean"}]}},B=n(32),H=n(17),Y=H.SET_QUESTIONS,K=H.UPDATE_ATTEMP_ANSWER,$=H.REMOVE_QUESTIONS,X=[],Z=Object(I.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=Object(M.a)({},e);switch(t.type){case P:n.user={email:t.payload.email,username:t.payload.username},n.isAuthenticated=!0;break;case F:n.user={email:t.payload.email,username:t.payload.username},n.isAuthenticated=t.payload.isAuthenticated;break;case G:n.isAuthenticated=!1,n.user={};break;default:return e}return n},quizForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,n=Object(M.a)({},e);switch(t.type){case"SET_QUESTION_COUNT":n.numberOfQuestions=t.payload;break;case"SET_SELECTED_CATEGORY":n.categories=Object(M.a)({},n.categories),n.categories.selected={value:t.payload};break;case"SET_SELECTED_LEVEL":n.difficultyLevels=Object(M.a)({},n.difficultyLevels),n.difficultyLevels.selected={value:t.payload};break;case"SET_SELECTED_TYPE":n.types=Object(M.a)({},n.types),n.types.selected={value:t.payload};break;default:return e}return n},questionAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=Object(g.a)(e);switch(t.type){case Y:var a=t.payload.map((function(e){return Object(M.a)(Object(M.a)({},e),{},{attempedOption:""})}));n=a,console.log(n);break;case $:n=[];break;case K:var l=Object(M.a)({},n[t.payload.questionIndex]);l.attempedOption=t.payload.answer,n[t.payload.questionIndex]=l;break;default:return e}return n}}),ee=Object(I.d)(Z,Object(I.a)(B.a));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,{store:ee},l.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.eb594729.chunk.js.map